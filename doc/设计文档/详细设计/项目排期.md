# ✅ 调整后的排期方案建议

## 🧱 核心域（Core Domain）

| 优先级    | 模块   | 排期说明                                    |
|--------|------|-----------------------------------------|
| 1️⃣ 必须 | 模型   | **模型服务是平台之本**，需优先落地，支持后续 RAG、插件等调用。     |
| 1️⃣ 必须 | 插件   | 建议优先于知识库实现，接入外部工具简单易验证，能快速提供“增强型大模型体验”。 |
| 1️⃣ 必须 | 智能体  | 聚合模型/插件/知识的交互载体，是平台 MVP 的关键功能面。         |
| 2️⃣ 推荐 | 知识库  | 与文件存储高度耦合，RAG 门槛相对更高，建议插件先行、知识库补丁式跟进。   |
| 3️⃣ 延期 | 工作流  | 组合逻辑与封装工具，建议在智能体、插件稳定后推进。               |
| 4️⃣ 延期 | 应用封装 | 智能体 + 工作流 的产品化形式，建议等底层能力稳定后封装。          |
| 4️⃣ 延期 | 市场   | 平台生态构建部分，建议等业务闭环形成后推进。                  |

## 🛠 支撑域（Supporting Domain）

| 优先级    | 模块   | 排期说明                             |
|--------|------|----------------------------------|
| 1️⃣ 必须 | 租户用户 | 平台级基础设施，必须具备多租户能力。               |
| 1️⃣ 必须 | 对话历史 | 支持记录用户交互，后续可用于重放、训练与洞察。          |
| 3️⃣ 延期 | 日志审计 | 内部测试阶段可不做，后续可通过埋点 + 数据平台支撑。      |
| 3️⃣ 延期 | 消息通知 | 可用统一 webhook/eventbus 替代，初期可不实现。 |
| 3️⃣ 延期 | 业务监控 | 初期使用轻量方案（如 Prometheus），后期补全。     |
| 4️⃣ 延期 | 订阅付费 | 商业化闭环之前无需上线，后期规划。                |

## 🔧 通用域（Generic Domain）

| 优先级    | 模块   | 排期说明                              |
|--------|------|-----------------------------------|
| 1️⃣ 必须 | 文件存储 | 插件/知识库等功能依赖上传能力，是基础模块。            |
| 1️⃣ 必须 | 认证授权 | JWT + RBAC 模型必须早期上线，后续可拓展 OAuth2。 |
| 3️⃣ 延期 | 定时任务 | 插件可能需延迟调用，可先用 Redis 实现，后续替换调度框架。  |
| 4️⃣ 延期 | 国际化  | 初期仅支持中英文 UI，暂无 i18n 需求。           |

---

## ✅ 项目构建阶段划分（6 模块以内）

### ⏱️ Phase 1：MVP 骨架阶段（主干能力验证）

| 模块分类 | 模块名            | 核心说明                   |
|------|----------------|------------------------|
| 核心域  | 模型、插件、智能体      | 主交互逻辑、平台价值核心           |
| 支撑域  | 租户用户、对话历史      | 数据隔离 & 历史记录基础能力        |
| 通用域  | 文件存储或认证授权（二选一） | 若周期紧张建议优先“认证授权”，保障基本安全 |

### ⏱️ Phase 2：功能扩展阶段（可插拔式推进）

| 模块分类 | 模块名            | 核心说明                 |
|------|----------------|----------------------|
| 核心域  | 知识库、工作流        | 复杂度高，后期补入，RAG & 组合逻辑 |
| 支撑域  | 日志审计、业务监控、消息通知 | 可观测性和扩展性补强           |
| 通用域  | 定时任务           | 插件延迟执行能力补强           |

### ⏱️ Phase 3：商业化生态阶段（产品闭环）

| 模块分类 | 模块名       | 核心说明      |
|------|-----------|-----------|
| 核心域  | 应用封装、市场   | 封装逻辑与分发渠道 |
| 支撑域  | 订阅付费      | 商业化路径基础设施 |
| 通用域  | 国际化、多语言支持 | 海外市场扩展所需  |

## 📌 最终建议

* ✅ **一期模块建议控制为 6 个以内**，保留模型、插件、智能体三大主逻辑核心。
* ✅ **对话历史 & 租户用户为必要支撑**，建议纳入一期。
* ✅ **通用域建议只选“认证授权”或“文件存储”之一**，确保不超出 6 模块。
* ✅ **整体一期建议目标为 2～3 月开发周期，单模块 2 Sprint 控制交付节奏。**

