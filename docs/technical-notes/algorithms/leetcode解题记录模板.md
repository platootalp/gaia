# 🧩 LeetCode xxx. 题目名称

## 📖 问题描述

> （原题描述或简化后的核心信息）

例如：

> 数字小镇 Digitville 中存在一个整数数组 `nums`，包含从 `0` 到 `n-1` 的整数，但其中有两个数字多出现了一次。请找出这两个数字。

**示例：**

```text
输入: nums = [0,3,2,1,3,2]
输出: [2,3]
```

**约束条件：**

* 2 ≤ n ≤ 100
* nums.length == n + 2
* 0 ≤ nums[i] < n
* 恰好有两个数字重复出现

---

## 🎯 思路分析

### 1️⃣ 问题重述

* 本应是 `[0,1,...,n-1]`
* 但其中两个数字 `a`、`b` 各多出现一次
* 目标：找出 `a` 和 `b`

---

### 2️⃣ 思路选型

| 方法      | 思想                 | 时间复杂度 | 空间复杂度 | 备注       |
|---------|--------------------|-------|-------|----------|
| 哈希表计数   | 用 `Counter` 统计出现次数 | O(n)  | O(n)  | 简单直接     |
| 异或分组法 ✅ | 利用异或抵消性质           | O(n)  | O(1)  | 最优、无额外空间 |

---

### 3️⃣ 核心算法：异或法（XOR）

#### 性质

1. `x ^ x = 0`
2. `x ^ 0 = x`
3. 交换律 + 结合律成立

#### 推导过程

1. `xor_all = XOR(nums) ^ XOR(0..n-1)`
   → 所有正常数抵消，剩下 `a ^ b`
2. 提取最低不同位
   `diff_bit = xor_all & -xor_all`
3. 按 `diff_bit` 把所有数分两组再异或：

    * 一组得 `a`
    * 另一组得 `b`

---

### 4️⃣ 示例推演

输入：

```text
nums = [0,3,2,1,3,2]
```

计算：

```
XOR(nums) = 1
XOR(0..3) = 0
xor_all = 1  → a ^ b = 1
diff_bit = 1 & (-1) = 1
```

分组：

* 第 0 位为 1 的数异或得 a = 3
* b = xor_all ^ a = 2

输出 `[2,3]`

---

## 💻 代码实现（Python版）

```python
class Solution:
    def getSneakyNumbers(self, nums: List[int]) -> List[int]:
        n = len(nums) - 2
        xor_all = 0
        
        # Step 1: 异或 nums 和 [0..n-1]
        for x in nums:
            xor_all ^= x
        for i in range(n):
            xor_all ^= i
        
        # Step 2: 找最低不同位
        diff_bit = xor_all & -xor_all
        
        # Step 3: 按位分组
        a = 0
        for x in nums:
            if x & diff_bit:
                a ^= x
        for i in range(n):
            if i & diff_bit:
                a ^= i
        
        # Step 4: 得到另一数
        b = xor_all ^ a
        return [a, b]
```

---

## ⏱️ 复杂度分析

| 类型    | 复杂度  | 说明                 |
|-------|------|--------------------|
| 时间复杂度 | O(n) | 单次遍历 nums + 0..n-1 |
| 空间复杂度 | O(1) | 仅用常数变量             |

---

## 🧠 知识点回顾

| 知识点    | 内容                      |
|--------|-------------------------|
| 异或运算性质 | `x ^ x = 0`，`x ^ 0 = x` |
| 位运算技巧  | `x & -x` 提取最低位的 1       |
| 分组异或   | 可将两个未知数分开求值             |

---

## 🧩 拓展思考

* 若有 **一个** 数重复，且一个数缺失？→ 用异或同理可解。
* 若有 **三个** 重复？→ 异或无法唯一分离，需要哈希或数学法。
* 应用场景：
    * 位运算分组
    * 出现奇数次的数字
    * 树状数组（Fenwick Tree）中求最低位 bit

---

## ✅ 总结模板结构

> 以后所有 LeetCode 题可按以下格式记录：

| 模块         | 内容       |
|------------|----------|
| 🧩 题目编号与标题 | 标题 + 链接  |
| 📖 问题描述    | 精炼复述题意   |
| 🎯 思路分析    | 拆解、对比、选型 |
| 🧠 关键原理    | 公式、推导、性质 |
| 🧪 示例推演    | 步骤化验证    |
| 💻 代码实现    | 主语言版本    |
| ⏱️ 复杂度分析   | 时间/空间    |
| 📘 知识点总结   | 可迁移规律    |
| 🧩 拓展思考    | 变体、边界场景  |
